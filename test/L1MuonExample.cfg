
process L1MuonExample  = {

   include "FWCore/MessageLogger/data/MessageLogger.cfi"
  
   source = PoolSource {
     untracked vstring fileNames = {
	"/store/RelVal/2007/6/22/RelVal-RelVal15010MuonsPt10-1182498841/0000/041BB637-9F20-DC11-AB5C-000423D6A434.root"
     }
   }

   untracked PSet maxEvents = { untracked int32 input = 1 }

   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
   include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"

   # include L1 emulator
   include "L1Trigger/Configuration/data/L1MuonEmulator.cff"

   #include L1 extra producer
   include "L1Trigger/L1ExtraFromDigis/data/l1extraParticles.cfi"

   replace l1extraParticles.produceCaloParticles = false
   replace l1extraParticles.muonSource = l1GmtEmulDigis

   path p = { l1muon, l1extraParticles } 

   # write out Root file
   module outputEvents = PoolOutputModule {
     untracked vstring outputCommands = {
       "drop *",
       "keep *_ecalTriggerPrimitiveDigis_*_*",
       "keep *_hcalTriggerPrimitiveDigis_*_*",
       "keep *_l1RctEmulDigis_*_*",
       "keep *_l1GctEmulDigis_*_*",
       "keep *_l1CscTpgEmulDigis_*_*",
       "keep *_l1CscTfTrackEmulDigis_*_*",
       "keep *_l1CscTfEmulDigis_*_*",
       "keep *_l1DTTPGEmulDigis_*_*",
       "keep *_l1DttfEmulDigis_*_*",
       "keep *_l1RpcEmulDigis_*_*",
       "keep *_l1GmtEmulDigis_*_*",
       "keep *_l1GtEmulDigis_*_*",
       "keep *_l1extraParticles_*_*"
     }
     untracked string fileName = "L1MuonExample.root"
   }

   endpath outpath = { outputEvents }

}

