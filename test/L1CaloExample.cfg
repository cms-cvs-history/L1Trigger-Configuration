
process L1CaloExample  = {

   include "FWCore/MessageLogger/data/MessageLogger.cfi"
  
   source = PoolSource {
	untracked vstring fileNames = {
	"/store/mc/2006/12/22/mc-physval-120-HToGaGa-mH120-LowLumi/0002/0A7C6FAD-639E-DB11-B546-0002B3AFB50A.root"
	}
   }

   untracked PSet maxEvents = { untracked int32 input = 1 }

   # include L1 emulator
   include "L1Trigger/Configuration/data/L1CaloEmulator.cff"

   #include L1 extra producer
   include "L1Trigger/L1ExtraFromDigis/data/l1extraParticles.cfi"

   replace l1extraParticles.produceMuonParticles = false
   replace l1extraParticles.isolatedEmSource = l1GctEmulDigis:isoEm
   replace l1extraParticles.nonIsolatedEmSource = l1GctEmulDigis:nonIsoEm
   replace l1extraParticles.forwardJetSource = l1GctEmulDigis:forJets
   replace l1extraParticles.centralJetSource = l1GctEmulDigis:cenJets
   replace l1extraParticles.tauJetSource = l1GctEmulDigis:tauJets
   replace l1extraParticles.etTotalSource = l1GctEmulDigis
   replace l1extraParticles.etHadSource = l1GctEmulDigis
   replace l1extraParticles.etMissSource = l1GctEmulDigis

   path p = { L1CaloEmulator, l1extraParticles }

   # write out Root file
   module outputEvents = PoolOutputModule
   {
	untracked vstring outputCommands =
	{
	    "drop *",
	    "keep *_ecalTriggerPrimitiveDigis_*_*",
	    "keep *_hcalTriggerPrimitiveDigis_*_*",
	    "keep *_l1GctEmulDigis_*_*",
	    "keep *_l1RctEmulDigis_*_*",
	    "keep *_l1ExtraCaloParticles_*_*"
	}
      untracked string fileName = "L1CaloExample.root"
   }

   endpath outpath = { outputEvents }

}

